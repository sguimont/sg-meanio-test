/*
 * angular-auto-validate - v1.0.15 - 2014-08-02
 * https://github.com/jonsamwell/angular-auto-validate
 * Copyright (c) 2014 Jon Samwell;*/
!function(a){"use strict";a.module("jcs-autoValidate",[])}(angular),function(a){"use strict";a.module("jcs-autoValidate").provider("validator",[function(){var a={},b=!0,c=!0;this.setDefaultElementModifier=function(b){if(void 0===a[b])throw new Error("Element modifier not registered: "+b);this.defaultElementModifier=b},this.registerDomModifier=function(b,c){a[b]=c},this.setErrorMessageResolver=function(a){this.errorMessageResolver=a},this.getErrorMessage=function(a,b){if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(a,b)},this.setValidElementStyling=function(a){b=a},this.setInvalidElementStyling=function(a){c=a},this.getDomModifier=function(b){var c=(void 0!==b?b.attr("element-modifier"):this.defaultElementModifier)||(void 0!==b?b.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===c)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return a[c]},this.makeValid=function(a){b===!0&&this.getDomModifier(a).makeValid(a)},this.makeInvalid=function(a,b){c===!0&&this.getDomModifier(a).makeInvalid(a,b)},this.makeDefault=function(a){var b=this.getDomModifier(a);b.makeDefault&&b.makeDefault(a)},this.$get=[function(){return this}]}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("bootstrap3ElementModifier",[function(){var b=function(b){a.forEach(b.find("span"),function(b){b=a.element(b),(b.hasClass("error-msg")||b.hasClass("form-control-feedback"))&&b.remove()}),b.removeClass("has-success has-error has-feedback")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("form-group"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a,b){a[0].parentNode.insertBefore(b[0],a[0].nextSibling)},e=!1,f=function(a){e=a},g=function(f){var g=c(f);b(g),g.addClass("has-success has-feedback"),e&&d(f,a.element('<span class="glyphicon glyphicon-ok form-control-feedback"></span>'))},h=function(f,g){var h=c(f),i=a.element('<span class="help-block has-error error-msg">'+g+"</span>");b(h),h.addClass("has-error has-feedback"),d(f,i),e&&d(f,a.element('<span class="glyphicon glyphicon-remove form-control-feedback"></span>'))},i=function(a){var d=c(a);b(d)};return{makeValid:g,makeInvalid:h,makeDefault:i,enableValidationStateIcons:f,key:"bs3"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("debounce",["$timeout",function(b){var c=function(c,d,e){d=a.isUndefined(d)?0:d,e=a.isUndefined(e)?!0:e;var f=0;return function(){var a=this,g=arguments;f+=1;var h=function(b){return function(){return b===f?c.apply(a,g):void 0}}(f);return b(h,d,e)}};return{debounce:c}}])}(angular),function(a,b){"use strict";"format"in a.prototype||(a.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return void 0!==typeof a[c]?a[c]:b})}),b.autoValidate=b.autoValidate||{errorMessages:{}},b.autoValidate.errorMessages["en-us"]=b.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"},b.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(a,c){var d,e="en-gb",f="js/angular-auto-validate/dist/lang",g=function(a){return d=c.get("{0}/jcs-auto-validate_{1}.json".format(f,a.toLowerCase()))},h=function(a){f=a},i=function(c,f){var h=a.defer();return f=f||g,e=c.toLowerCase(),void 0===b.autoValidate.errorMessages[e]?(d=f(c),d.then(function(a){d=void 0,b.autoValidate.errorMessages[e]=a.data,h.resolve(b.autoValidate.errorMessages[e])},function(a){b.autoValidate.errorMessages[e]={defaultMsg:"Loading culture failed!"},d=null,h.reject(a)})):h.resolve(b.autoValidate.errorMessages[e]),h.promise},j=function(c){var f=a.defer();return c=void 0===c?e:c.toLowerCase(),void 0!==d?d.then(function(){f.resolve(b.autoValidate.errorMessages[c])},function(a){f.reject(a)}):f.resolve(b.autoValidate.errorMessages[c]),f.promise},k=function(c,f){var g,h,i=a.defer(),j=[];if(void 0!==d)d.then(function(){k(c,f).then(function(a){i.resolve(a)})});else{if(g=b.autoValidate.errorMessages[e][c],void 0===g&&(g=b.autoValidate.errorMessages[e].defaultMsg.format(c)),f&&f.attr)try{h=f.attr(c),void 0===h&&(h=f.attr("data-ng-"+c)||f.attr("ng-"+c)),j.push(h||""),g=g.format(j)}catch(l){}i.resolve(g)}return i.promise};return{setI18nFileRootPath:h,setCulture:i,getErrorMessages:j,resolve:k}}])}(String,angular),function(a){"use strict";a.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var b=function(b,c){a.forEach(b.find("small"),function(b){a.element(b).hasClass("error")&&a.element(b).remove()}),c.removeClass("error")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("columns"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a){var d=c(a);b(d&&d.length>0?d:a,a)},e=function(d,e){var f,g=c(d);b(g||d,d),d.addClass("error"),g&&(f=a.element('<small class="error">'+e+"</small>"),g.append(f))},f=function(a){d(a)};return{makeValid:d,makeInvalid:e,makeDefault:f,key:"foundation5"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("validationManager",["validator",function(b){var c=function(c,d,e){var f,g=!0,h=c.$pristine===!1||e,i=function(b){var c,d=!0;return a.forEach(b,function(a,b){d&&a&&(d=!1,c=b)}),c};return c&&h&&(g=!c.$invalid,g?b.makeValid(d):(f=i(c.$error),b.getErrorMessage(f,d).then(function(a){b.makeInvalid(d,a)}))),g},d=function(a){b.makeDefault(a)},e=function(b){a.forEach(b[0],function(b){var c,d=a.element(b);c=d.controller("ngModel"),void 0!==c&&("FORM"===d[0].nodeName?e(d):c.$setPristine())})},f=function(b){var d=!0;return void 0===b?!1:(a.forEach(b[0],function(b){var e,g;b=a.element(b),e=b.controller("ngModel"),void 0!==e&&("FORM"===b[0].nodeName?f(b):(g=c(e,b,!0),d=d&&g))}),d)};return{validateElement:c,validateForm:f,resetElement:d,resetForm:e}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("form",["validationManager",function(a){return{restrict:"E",link:function(b,c){c.on("reset",function(){a.resetForm(c)}),b.$on("$destroy",function(){c.off("reset")})}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(a){a.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(a,b,c){return a[0].compile=function(a,d){var e=b(d.ngSubmit),f="true"===d.ngSubmitForce;return function(a,b){b.on("submit",function(d){a.$apply(function(){(f===!0||c.validateForm(b))&&e(a,{$event:d})})})}},a}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(b){b.decorator("ngModelDirective",["$delegate","validationManager","debounce",function(b,c,d){var e=b[0],f=e.link;return e.compile=function(){return function(b,e,g,h){var i=h[0],j=a.version.major>=1&&a.version.minor>=3,k=void 0===g.ngModelOptions?void 0:b.$eval(g.ngModelOptions),l=i.$setValidity,m=i.$setPristine,n=d.debounce(function(){c.validateElement(i,e)},100);f.pre&&(f.pre.apply(this,arguments),k=void 0===i.$options?void 0:i.$options),void 0===g.formnovalidate&&(j||void 0===k||void 0===k.updateOn||""===k.updateOn?i.$setValidity=function(a,b){l.call(i,a,b),n()}:(e.on(k.updateOn,function(){n()}),b.$on("$destroy",function(){e.off(k.updateOn)})),i.$setPristine=function(){m.call(i),c.resetElement(e)},i.autoValidated=!0),f.post?f.post.apply(this,arguments):f.apply(this,arguments)}},b}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(a,b,c,d){a.setErrorMessageResolver(b.resolve),a.registerDomModifier(c.key,c),a.registerDomModifier(d.key,d),a.setDefaultElementModifier(c.key)}])}(angular);